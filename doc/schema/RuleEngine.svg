<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="3078pt" height="1675pt"
 viewBox="0.00 0.00 3078.17 1674.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1670.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-1670.8 3074.17,-1670.8 3074.17,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="8.36,-1549.5 8.36,-1666.3 493.64,-1666.3 493.64,-1549.5 8.36,-1549.5"/>
<text text-anchor="middle" x="251" y="-1649.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="251" y="-1632.9" font-family="Times,serif" font-size="14.00">IERC1404</text>
<text text-anchor="middle" x="251" y="-1616.1" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="8.36,-1607.9 493.64,-1607.9 "/>
<text text-anchor="start" x="16.36" y="-1591.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="16.36" y="-1574.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;detectTransferRestriction(_from: address, _to: address, _amount: uint256): uint8</text>
<text text-anchor="start" x="16.36" y="-1557.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;messageForTransferRestriction(_restrictionCode: uint8): string</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="511.56,-1578.7 511.56,-1637.1 650.44,-1637.1 650.44,-1578.7 511.56,-1578.7"/>
<text text-anchor="middle" x="581" y="-1620.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="581" y="-1603.7" font-family="Times,serif" font-size="14.00">IERC1404EnumCode</text>
<text text-anchor="middle" x="581" y="-1586.9" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="558.23,-588.9 558.23,-722.5 843.76,-722.5 843.76,-588.9 558.23,-588.9"/>
<text text-anchor="middle" x="701" y="-705.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Enum&gt;&gt;</text>
<text text-anchor="middle" x="701" y="-689.1" font-family="Times,serif" font-size="14.00">REJECTED_CODE_BASE</text>
<text text-anchor="middle" x="701" y="-672.3" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="558.23,-664.1 843.76,-664.1 "/>
<text text-anchor="start" x="566.23" y="-647.5" font-family="Times,serif" font-size="14.00">TRANSFER_OK: 0</text>
<text text-anchor="start" x="566.23" y="-630.7" font-family="Times,serif" font-size="14.00">TRANSFER_REJECTED_PAUSED: 1</text>
<text text-anchor="start" x="566.23" y="-613.9" font-family="Times,serif" font-size="14.00">TRANSFER_REJECTED_FROM_FROZEN: 2</text>
<text text-anchor="start" x="566.23" y="-597.1" font-family="Times,serif" font-size="14.00">TRANSFER_REJECTED_TO_FROZEN: 3</text>
</g>
<!-- 2&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>2&#45;&gt;1</title>
<path fill="none" stroke="black" d="M595.33,-722.51C548.55,-758 498.43,-806.34 473,-863.8 405.04,-1017.34 414.56,-1084.19 473,-1241.6 480.35,-1261.39 494.43,-1258.78 504,-1277.6 553.01,-1374.02 571.36,-1502.19 577.79,-1566.49"/>
<polygon fill="black" stroke="black" points="577.79,-1566.52 582.34,-1572.12 578.92,-1578.47 574.38,-1572.87 577.79,-1566.52"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<polygon fill="#f2f2f2" stroke="black" points="1797.69,-1278.1 1797.69,-1512.5 2408.3,-1512.5 2408.3,-1278.1 1797.69,-1278.1"/>
<text text-anchor="middle" x="2103" y="-1495.9" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2103" y="-1479.1" font-family="Times,serif" font-size="14.00">IAccessControl</text>
<text text-anchor="middle" x="2103" y="-1462.3" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1797.69,-1454.1 2408.3,-1454.1 "/>
<text text-anchor="start" x="1805.69" y="-1437.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1805.69" y="-1420.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;hasRole(role: bytes32, account: address): bool</text>
<text text-anchor="start" x="1805.69" y="-1403.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;getRoleAdmin(role: bytes32): bytes32</text>
<text text-anchor="start" x="1805.69" y="-1387.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;grantRole(role: bytes32, account: address)</text>
<text text-anchor="start" x="1805.69" y="-1370.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;revokeRole(role: bytes32, account: address)</text>
<text text-anchor="start" x="1805.69" y="-1353.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;renounceRole(role: bytes32, callerConfirmation: address)</text>
<text text-anchor="start" x="1805.69" y="-1336.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1805.69" y="-1319.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoleAdminChanged(role: bytes32, previousAdminRole: bytes32, newAdminRole: bytes32)</text>
<text text-anchor="start" x="1805.69" y="-1303.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoleGranted(role: bytes32, account: address, sender: address)</text>
<text text-anchor="start" x="1805.69" y="-1286.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RoleRevoked(role: bytes32, account: address, sender: address)</text>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<polygon fill="#f2f2f2" stroke="black" points="2857.82,-1328.5 2857.82,-1462.1 3070.17,-1462.1 3070.17,-1328.5 2857.82,-1328.5"/>
<text text-anchor="middle" x="2964" y="-1445.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2964" y="-1428.7" font-family="Times,serif" font-size="14.00">Context</text>
<text text-anchor="middle" x="2964" y="-1411.9" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2857.82,-1403.7 3070.17,-1403.7 "/>
<text text-anchor="start" x="2865.82" y="-1387.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2865.82" y="-1370.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): address</text>
<text text-anchor="start" x="2865.82" y="-1353.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="2865.82" y="-1336.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_contextSuffixLength(): uint256</text>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<polygon fill="#f2f2f2" stroke="black" points="2424.57,-1557.9 2424.57,-1657.9 2701.42,-1657.9 2701.42,-1557.9 2424.57,-1557.9"/>
<text text-anchor="middle" x="2563" y="-1641.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2563" y="-1624.5" font-family="Times,serif" font-size="14.00">IERC165</text>
<text text-anchor="middle" x="2563" y="-1607.7" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2424.57,-1599.5 2701.42,-1599.5 "/>
<text text-anchor="start" x="2432.57" y="-1582.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2432.57" y="-1566.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<polygon fill="#f2f2f2" stroke="black" points="2232.23,-977.5 2232.23,-1127.9 2485.77,-1127.9 2485.77,-977.5 2232.23,-977.5"/>
<text text-anchor="middle" x="2359" y="-1111.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2359" y="-1094.5" font-family="Times,serif" font-size="14.00">IRuleEngineOperation</text>
<text text-anchor="middle" x="2359" y="-1077.7" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2232.23,-1069.5 2485.77,-1069.5 "/>
<text text-anchor="start" x="2240.23" y="-1052.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2240.23" y="-1036.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setRulesOperation(rules_: address[])</text>
<text text-anchor="start" x="2240.23" y="-1019.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;rulesCountOperation(): uint256</text>
<text text-anchor="start" x="2240.23" y="-1002.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;ruleOperation(ruleId: uint256): address</text>
<text text-anchor="start" x="2240.23" y="-985.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;rulesOperation(): address[]</text>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="black" points="1423.45,-597.3 1423.45,-714.1 1970.55,-714.1 1970.55,-597.3 1423.45,-597.3"/>
<text text-anchor="middle" x="1697" y="-697.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1697" y="-680.7" font-family="Times,serif" font-size="14.00">IRuleEngineValidation</text>
<text text-anchor="middle" x="1697" y="-663.9" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1423.45,-655.7 1970.55,-655.7 "/>
<text text-anchor="start" x="1431.45" y="-639.1" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1431.45" y="-622.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;detectTransferRestrictionValidation(_from: address, _to: address, _amount: uint256): uint8</text>
<text text-anchor="start" x="1431.45" y="-605.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;validateTransferValidation(_from: address, _to: address, _amount: uint256): (isValid: bool)</text>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<polygon fill="#f2f2f2" stroke="black" points="1043.67,-977.5 1043.67,-1127.9 1300.33,-1127.9 1300.33,-977.5 1043.67,-977.5"/>
<text text-anchor="middle" x="1172" y="-1111.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="1172" y="-1094.5" font-family="Times,serif" font-size="14.00">IRuleEngineValidationCommon</text>
<text text-anchor="middle" x="1172" y="-1077.7" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1043.67,-1069.5 1300.33,-1069.5 "/>
<text text-anchor="start" x="1051.67" y="-1052.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1051.67" y="-1036.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;setRulesValidation(rules_: address[])</text>
<text text-anchor="start" x="1051.67" y="-1019.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;rulesCountValidation(): uint256</text>
<text text-anchor="start" x="1051.67" y="-1002.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;ruleValidation(ruleId: uint256): address</text>
<text text-anchor="start" x="1051.67" y="-985.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;rulesValidation(): address[]</text>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<polygon fill="#f2f2f2" stroke="black" points="2504,-1002.7 2504,-1102.7 3005.99,-1102.7 3005.99,-1002.7 2504,-1002.7"/>
<text text-anchor="middle" x="2755" y="-1086.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="2755" y="-1069.3" font-family="Times,serif" font-size="14.00">IRuleOperation</text>
<text text-anchor="middle" x="2755" y="-1052.5" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2504,-1044.3 3005.99,-1044.3 "/>
<text text-anchor="start" x="2512" y="-1027.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2512" y="-1010.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;operateOnTransfer(_from: address, _to: address, _amount: uint256): (isValid: bool)</text>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<polygon fill="#f2f2f2" stroke="black" points="1245.75,-1299.3 1245.75,-1491.3 1552.25,-1491.3 1552.25,-1299.3 1245.75,-1299.3"/>
<text text-anchor="middle" x="1399" y="-1474.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1399" y="-1457.9" font-family="Times,serif" font-size="14.00">RuleEngineInvariantStorage</text>
<text text-anchor="middle" x="1399" y="-1441.1" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1245.75,-1432.9 1552.25,-1432.9 "/>
<text text-anchor="start" x="1253.75" y="-1416.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1253.75" y="-1399.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;RULE_ENGINE_OPERATOR_ROLE: bytes32</text>
<text text-anchor="start" x="1253.75" y="-1382.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;TOKEN_CONTRACT_ROLE: bytes32</text>
<polyline fill="none" stroke="black" points="1245.75,-1374.5 1552.25,-1374.5 "/>
<text text-anchor="start" x="1253.75" y="-1357.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1253.75" y="-1341.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddRule(rule: address)</text>
<text text-anchor="start" x="1253.75" y="-1324.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemoveRule(rule: address)</text>
<text text-anchor="start" x="1253.75" y="-1307.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ClearRules(rulesRemoved: address[])</text>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<polygon fill="#f2f2f2" stroke="black" points="2626.71,-534.5 2626.71,-776.9 2913.29,-776.9 2913.29,-534.5 2626.71,-534.5"/>
<text text-anchor="middle" x="2770" y="-760.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2770" y="-743.5" font-family="Times,serif" font-size="14.00">ERC2771Context</text>
<text text-anchor="middle" x="2770" y="-726.7" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2626.71,-718.5 2913.29,-718.5 "/>
<text text-anchor="start" x="2634.71" y="-701.9" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="2634.71" y="-685.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_trustedForwarder: address</text>
<polyline fill="none" stroke="black" points="2626.71,-676.9 2913.29,-676.9 "/>
<text text-anchor="start" x="2634.71" y="-660.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2634.71" y="-643.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): address</text>
<text text-anchor="start" x="2634.71" y="-626.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="2634.71" y="-609.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_contextSuffixLength(): uint256</text>
<text text-anchor="start" x="2634.71" y="-593.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2634.71" y="-576.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(trustedForwarder_: address)</text>
<text text-anchor="start" x="2634.71" y="-559.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;trustedForwarder(): address</text>
<text text-anchor="start" x="2634.71" y="-542.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;isTrustedForwarder(forwarder: address): bool</text>
</g>
<!-- 11&#45;&gt;4 -->
<g id="edge2" class="edge">
<title>11&#45;&gt;4</title>
<path fill="none" stroke="black" d="M2913.36,-743.23C2953.86,-775.56 2992.9,-816.19 3015,-863.8 3080.49,-1004.91 3037.95,-1189.51 3001.04,-1299.59"/>
<polygon fill="none" stroke="black" points="2991.01,-1296.45 2990.99,-1328.24 3010.83,-1303.4 2991.01,-1296.45"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<polygon fill="#f2f2f2" stroke="black" points="2426.32,-1345.3 2426.32,-1445.3 2699.67,-1445.3 2699.67,-1345.3 2426.32,-1345.3"/>
<text text-anchor="middle" x="2563" y="-1428.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2563" y="-1411.9" font-family="Times,serif" font-size="14.00">ERC165</text>
<text text-anchor="middle" x="2563" y="-1395.1" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2426.32,-1386.9 2699.67,-1386.9 "/>
<text text-anchor="start" x="2434.32" y="-1370.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2434.32" y="-1353.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
</g>
<!-- 12&#45;&gt;5 -->
<g id="edge3" class="edge">
<title>12&#45;&gt;5</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2563,-1445.41C2563,-1469.83 2563,-1499.95 2563,-1527.53"/>
<polygon fill="none" stroke="black" points="2552.5,-1527.71 2563,-1557.71 2573.5,-1527.71 2552.5,-1527.71"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<polygon fill="#f2f2f2" stroke="black" points="1379.1,-956.7 1379.1,-1148.7 1776.89,-1148.7 1776.89,-956.7 1379.1,-956.7"/>
<text text-anchor="middle" x="1578" y="-1132.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1578" y="-1115.3" font-family="Times,serif" font-size="14.00">RuleInternal</text>
<text text-anchor="middle" x="1578" y="-1098.5" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1379.1,-1090.3 1776.89,-1090.3 "/>
<text text-anchor="start" x="1387.1" y="-1073.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1387.1" y="-1056.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;_ruleIsPresent: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="black" points="1379.1,-1048.7 1776.89,-1048.7 "/>
<text text-anchor="start" x="1387.1" y="-1032.1" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1387.1" y="-1015.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_setRules(rules_: address[])</text>
<text text-anchor="start" x="1387.1" y="-998.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_addRule(_rules: address[], rule_: address)</text>
<text text-anchor="start" x="1387.1" y="-981.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_removeRule(_rules: address[], rule_: address, index: uint256)</text>
<text text-anchor="start" x="1387.1" y="-964.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_getRuleIndex(_rules: address[], rule_: address): (index: uint256)</text>
</g>
<!-- 13&#45;&gt;10 -->
<g id="edge4" class="edge">
<title>13&#45;&gt;10</title>
<path fill="none" stroke="black" d="M1527.9,-1149.03C1507.76,-1187.35 1484.3,-1232 1462.95,-1272.61"/>
<polygon fill="none" stroke="black" points="1453.59,-1267.85 1448.93,-1299.29 1472.18,-1277.62 1453.59,-1267.85"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<polygon fill="#f2f2f2" stroke="black" points="7,-1345.3 7,-1445.3 495,-1445.3 495,-1345.3 7,-1345.3"/>
<text text-anchor="middle" x="251" y="-1428.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="251" y="-1411.9" font-family="Times,serif" font-size="14.00">IERC1404Wrapper</text>
<text text-anchor="middle" x="251" y="-1395.1" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="7,-1386.9 495,-1386.9 "/>
<text text-anchor="start" x="15" y="-1370.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="15" y="-1353.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;validateTransfer(_from: address, _to: address, _amount: uint256): (isValid: bool)</text>
</g>
<!-- 14&#45;&gt;0 -->
<g id="edge5" class="edge">
<title>14&#45;&gt;0</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M251,-1445.41C251,-1467.41 251,-1494.04 251,-1519.27"/>
<polygon fill="none" stroke="black" points="240.5,-1519.49 251,-1549.49 261.5,-1519.49 240.5,-1519.49"/>
</g>
<!-- 14&#45;&gt;1 -->
<g id="edge6" class="edge">
<title>14&#45;&gt;1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M336.53,-1445.43C385.9,-1474.45 448.76,-1512.55 503,-1549 508.57,-1552.74 514.3,-1556.73 519.99,-1560.78"/>
<polygon fill="none" stroke="black" points="513.8,-1569.26 544.21,-1578.49 526.2,-1552.31 513.8,-1569.26"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<polygon fill="#f2f2f2" stroke="black" points="2377.95,-338.7 2377.95,-438.7 2626.04,-438.7 2626.04,-338.7 2377.95,-338.7"/>
<text text-anchor="middle" x="2502" y="-422.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2502" y="-405.3" font-family="Times,serif" font-size="14.00">MetaTxModuleStandalone</text>
<text text-anchor="middle" x="2502" y="-388.5" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2377.95,-380.3 2626.04,-380.3 "/>
<text text-anchor="start" x="2385.95" y="-363.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2385.95" y="-346.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(trustedForwarder: address)</text>
</g>
<!-- 15&#45;&gt;11 -->
<g id="edge7" class="edge">
<title>15&#45;&gt;11</title>
<path fill="none" stroke="black" d="M2566.5,-438.81C2583.72,-452.74 2601.98,-468.3 2618,-483.6 2627.55,-492.72 2637.18,-502.36 2646.72,-512.23"/>
<polygon fill="none" stroke="black" points="2639.12,-519.48 2667.36,-534.08 2654.39,-505.06 2639.12,-519.48"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-338.7 0,-438.7 501.99,-438.7 501.99,-338.7 0,-338.7"/>
<text text-anchor="middle" x="251" y="-422.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="251" y="-405.3" font-family="Times,serif" font-size="14.00">IRuleEngine</text>
<text text-anchor="middle" x="251" y="-388.5" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="0,-380.3 501.99,-380.3 "/>
<text text-anchor="start" x="8" y="-363.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-346.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;operateOnTransfer(_from: address, _to: address, _amount: uint256): (isValid: bool)</text>
</g>
<!-- 16&#45;&gt;14 -->
<g id="edge8" class="edge">
<title>16&#45;&gt;14</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M251,-438.83C251,-600.41 251,-1116.3 251,-1315.12"/>
<polygon fill="none" stroke="black" points="240.5,-1315.26 251,-1345.26 261.5,-1315.26 240.5,-1315.26"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<polygon fill="#f2f2f2" stroke="black" points="481.74,-1002.7 481.74,-1102.7 882.25,-1102.7 882.25,-1002.7 481.74,-1002.7"/>
<text text-anchor="middle" x="682" y="-1086.1" font-family="Times,serif" font-size="14.00">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="682" y="-1069.3" font-family="Times,serif" font-size="14.00">IRuleValidation</text>
<text text-anchor="middle" x="682" y="-1052.5" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="481.74,-1044.3 882.25,-1044.3 "/>
<text text-anchor="start" x="489.74" y="-1027.7" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="489.74" y="-1010.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&#160;canReturnTransferRestrictionCode(_restrictionCode: uint8): bool</text>
</g>
<!-- 17&#45;&gt;14 -->
<g id="edge9" class="edge">
<title>17&#45;&gt;14</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M619.79,-1102.86C545.39,-1161.65 420.47,-1260.38 336.9,-1326.41"/>
<polygon fill="none" stroke="black" points="330.22,-1318.31 313.19,-1345.15 343.24,-1334.79 330.22,-1318.31"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<polygon fill="#f2f2f2" stroke="black" points="1851.56,-864.3 1851.56,-1241.1 2214.44,-1241.1 2214.44,-864.3 1851.56,-864.3"/>
<text text-anchor="middle" x="2033" y="-1224.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2033" y="-1207.7" font-family="Times,serif" font-size="14.00">AccessControl</text>
<text text-anchor="middle" x="2033" y="-1190.9" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1851.56,-1182.7 2214.44,-1182.7 "/>
<text text-anchor="start" x="1859.56" y="-1166.1" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="1859.56" y="-1149.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;_roles: mapping(bytes32=&gt;RoleData)</text>
<text text-anchor="start" x="1859.56" y="-1132.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1859.56" y="-1115.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;DEFAULT_ADMIN_ROLE: bytes32</text>
<polyline fill="none" stroke="black" points="1851.56,-1107.5 2214.44,-1107.5 "/>
<text text-anchor="start" x="1859.56" y="-1090.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1859.56" y="-1074.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkRole(role: bytes32)</text>
<text text-anchor="start" x="1859.56" y="-1057.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_checkRole(role: bytes32, account: address)</text>
<text text-anchor="start" x="1859.56" y="-1040.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_setRoleAdmin(role: bytes32, adminRole: bytes32)</text>
<text text-anchor="start" x="1859.56" y="-1023.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_grantRole(role: bytes32, account: address): bool</text>
<text text-anchor="start" x="1859.56" y="-1006.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_revokeRole(role: bytes32, account: address): bool</text>
<text text-anchor="start" x="1859.56" y="-990.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1859.56" y="-973.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyRole(role: bytes32)</text>
<text text-anchor="start" x="1859.56" y="-956.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;supportsInterface(interfaceId: bytes4): bool</text>
<text text-anchor="start" x="1859.56" y="-939.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hasRole(role: bytes32, account: address): bool</text>
<text text-anchor="start" x="1859.56" y="-922.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRoleAdmin(role: bytes32): bytes32</text>
<text text-anchor="start" x="1859.56" y="-906.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;grantRole(role: bytes32, account: address) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="1859.56" y="-889.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;revokeRole(role: bytes32, account: address) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="1859.56" y="-872.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;renounceRole(role: bytes32, callerConfirmation: address)</text>
</g>
<!-- 18&#45;&gt;3 -->
<g id="edge12" class="edge">
<title>18&#45;&gt;3</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2071.58,-1241.44C2072.06,-1243.75 2072.53,-1246.06 2073,-1248.36"/>
<polygon fill="none" stroke="black" points="2062.73,-1250.54 2079.06,-1277.81 2083.3,-1246.31 2062.73,-1250.54"/>
</g>
<!-- 18&#45;&gt;4 -->
<g id="edge11" class="edge">
<title>18&#45;&gt;4</title>
<path fill="none" stroke="black" d="M2214.5,-1237.53C2217.31,-1238.94 2220.15,-1240.3 2223,-1241.6 2321.57,-1286.44 2604.11,-1250.64 2709,-1277.6 2749.78,-1288.08 2792.12,-1304.8 2830.3,-1322.35"/>
<polygon fill="none" stroke="black" points="2826.01,-1331.94 2857.61,-1335.36 2835.04,-1312.98 2826.01,-1331.94"/>
</g>
<!-- 18&#45;&gt;12 -->
<g id="edge13" class="edge">
<title>18&#45;&gt;12</title>
<path fill="none" stroke="black" d="M2214.72,-1237.09C2217.46,-1238.64 2220.22,-1240.15 2223,-1241.6 2300.71,-1282.22 2337.25,-1241.13 2417,-1277.6 2443.19,-1289.58 2468.77,-1307.28 2491.01,-1325.29"/>
<polygon fill="none" stroke="black" points="2484.52,-1333.55 2514.13,-1345.09 2498.17,-1317.6 2484.52,-1333.55"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<polygon fill="#f2f2f2" stroke="black" points="1570.26,-1345.3 1570.26,-1445.3 1779.74,-1445.3 1779.74,-1345.3 1570.26,-1345.3"/>
<text text-anchor="middle" x="1675" y="-1428.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Struct&gt;&gt;</text>
<text text-anchor="middle" x="1675" y="-1411.9" font-family="Times,serif" font-size="14.00">RoleData</text>
<text text-anchor="middle" x="1675" y="-1395.1" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1570.26,-1386.9 1779.74,-1386.9 "/>
<text text-anchor="start" x="1578.26" y="-1370.3" font-family="Times,serif" font-size="14.00">hasRole: mapping(address=&gt;bool)</text>
<text text-anchor="start" x="1578.26" y="-1353.5" font-family="Times,serif" font-size="14.00">adminRole: bytes32</text>
</g>
<!-- 18&#45;&gt;19 -->
<g id="edge14" class="edge">
<title>18&#45;&gt;19</title>
<path fill="none" stroke="black" d="M1851.36,-1210.03C1827.14,-1232.5 1802.81,-1255.49 1780,-1277.6 1760.07,-1296.91 1738.7,-1318.54 1720.41,-1337.88"/>
<polygon fill="black" stroke="black" points="1717.86,-1335.48 1713.56,-1345.17 1722.96,-1340.28 1717.86,-1335.48"/>
</g>
<!-- 19&#45;&gt;18 -->
<g id="edge10" class="edge">
<title>19&#45;&gt;18</title>
<path fill="none" stroke="black" d="M1730.11,-1345.17C1751.21,-1324.1 1775.52,-1299.38 1798,-1277.6 1812.41,-1263.63 1827.42,-1249.32 1842.58,-1235"/>
<polygon fill="black" stroke="black" points="1842.79,-1234.8 1844.42,-1227.78 1851.53,-1226.57 1849.9,-1233.6 1842.79,-1234.8"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<polygon fill="#f2f2f2" stroke="black" points="2103.25,-484.1 2103.25,-827.3 2608.74,-827.3 2608.74,-484.1 2103.25,-484.1"/>
<text text-anchor="middle" x="2356" y="-810.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="2356" y="-793.9" font-family="Times,serif" font-size="14.00">RuleEngineOperation</text>
<text text-anchor="middle" x="2356" y="-777.1" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="2103.25,-768.9 2608.74,-768.9 "/>
<text text-anchor="start" x="2111.25" y="-752.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2111.25" y="-735.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_rulesOperation: address[]</text>
<polyline fill="none" stroke="black" points="2103.25,-727.3 2608.74,-727.3 "/>
<text text-anchor="start" x="2111.25" y="-710.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="2111.25" y="-693.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_clearRulesOperation()</text>
<text text-anchor="start" x="2111.25" y="-677.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_removeRuleOperation(rule_: address, index: uint256)</text>
<text text-anchor="start" x="2111.25" y="-660.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_operateOnTransfer(_from: address, _to: address, _amount: uint256): (isValid: bool)</text>
<text text-anchor="start" x="2111.25" y="-643.5" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="2111.25" y="-626.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rulesCountOperation(): uint256</text>
<text text-anchor="start" x="2111.25" y="-609.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRuleIndexOperation(rule_: IRuleOperation): (index: uint256)</text>
<text text-anchor="start" x="2111.25" y="-593.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;ruleOperation(ruleId: uint256): address</text>
<text text-anchor="start" x="2111.25" y="-576.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rulesOperation(): address[]</text>
<text text-anchor="start" x="2111.25" y="-559.5" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="2111.25" y="-542.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setRulesOperation(rules_: address[]) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="2111.25" y="-525.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;clearRulesOperation() &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="2111.25" y="-509.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addRuleOperation(rule_: IRuleOperation) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="2111.25" y="-492.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeRuleOperation(rule_: IRuleOperation, index: uint256) &lt;&lt;onlyRole&gt;&gt;</text>
</g>
<!-- 20&#45;&gt;6 -->
<g id="edge17" class="edge">
<title>20&#45;&gt;6</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2357.29,-827.37C2357.6,-868.16 2357.92,-910.51 2358.2,-947.28"/>
<polygon fill="none" stroke="black" points="2347.7,-947.41 2358.43,-977.33 2368.7,-947.25 2347.7,-947.41"/>
</g>
<!-- 20&#45;&gt;9 -->
<g id="edge18" class="edge">
<title>20&#45;&gt;9</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2528.39,-827.37C2589.29,-887.65 2653.61,-951.33 2698.11,-995.38"/>
<polygon fill="black" stroke="black" points="2695.78,-998 2705.35,-1002.55 2700.71,-993.03 2695.78,-998"/>
</g>
<!-- 20&#45;&gt;13 -->
<g id="edge16" class="edge">
<title>20&#45;&gt;13</title>
<path fill="none" stroke="black" d="M2102.96,-791.8C2073.1,-805.08 2042.69,-817.44 2013,-827.8 1940.08,-853.24 1913.74,-832.82 1843,-863.8 1798.71,-883.19 1754.37,-910.66 1714.98,-938.63"/>
<polygon fill="none" stroke="black" points="1708.53,-930.34 1690.5,-956.52 1720.92,-947.3 1708.53,-930.34"/>
</g>
<!-- 20&#45;&gt;18 -->
<g id="edge15" class="edge">
<title>20&#45;&gt;18</title>
<path fill="none" stroke="black" d="M2216.44,-827.37C2212.77,-831.85 2209.09,-836.35 2205.4,-840.86"/>
<polygon fill="none" stroke="black" points="2197.17,-834.34 2186.31,-864.21 2213.43,-847.64 2197.17,-834.34"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<polygon fill="#f2f2f2" stroke="black" points="938.06,-492.5 938.06,-818.9 1405.94,-818.9 1405.94,-492.5 938.06,-492.5"/>
<text text-anchor="middle" x="1172" y="-802.3" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1172" y="-785.5" font-family="Times,serif" font-size="14.00">RuleEngineValidationCommon</text>
<text text-anchor="middle" x="1172" y="-768.7" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="938.06,-760.5 1405.94,-760.5 "/>
<text text-anchor="start" x="946.06" y="-743.9" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="946.06" y="-727.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;_rulesValidation: address[]</text>
<polyline fill="none" stroke="black" points="938.06,-718.9 1405.94,-718.9 "/>
<text text-anchor="start" x="946.06" y="-702.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="946.06" y="-685.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_clearRulesValidation()</text>
<text text-anchor="start" x="946.06" y="-668.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_removeRuleValidation(rule_: address, index: uint256)</text>
<text text-anchor="start" x="946.06" y="-651.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="946.06" y="-635.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rulesCountValidation(): uint256</text>
<text text-anchor="start" x="946.06" y="-618.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRuleIndexValidation(rule_: IRuleValidation): (index: uint256)</text>
<text text-anchor="start" x="946.06" y="-601.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;ruleValidation(ruleId: uint256): address</text>
<text text-anchor="start" x="946.06" y="-584.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rulesValidation(): address[]</text>
<text text-anchor="start" x="946.06" y="-567.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="946.06" y="-551.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setRulesValidation(rules_: address[]) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="946.06" y="-534.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;clearRulesValidation() &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="946.06" y="-517.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addRuleValidation(rule_: IRuleValidation) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="946.06" y="-500.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeRuleValidation(rule_: IRuleValidation, index: uint256) &lt;&lt;onlyRole&gt;&gt;</text>
</g>
<!-- 21&#45;&gt;8 -->
<g id="edge21" class="edge">
<title>21&#45;&gt;8</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1172,-819.07C1172,-862.28 1172,-907.81 1172,-947.02"/>
<polygon fill="none" stroke="black" points="1161.5,-947.28 1172,-977.28 1182.5,-947.28 1161.5,-947.28"/>
</g>
<!-- 21&#45;&gt;13 -->
<g id="edge20" class="edge">
<title>21&#45;&gt;13</title>
<path fill="none" stroke="black" d="M1338.89,-819.07C1379.11,-858.2 1421.29,-899.24 1458.83,-935.76"/>
<polygon fill="none" stroke="black" points="1451.52,-943.3 1480.34,-956.69 1466.16,-928.25 1451.52,-943.3"/>
</g>
<!-- 21&#45;&gt;17 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M970.57,-819.07C892.3,-882.17 807.88,-950.22 750.71,-996.31"/>
<polygon fill="black" stroke="black" points="748.41,-993.67 742.82,-1002.67 752.8,-999.12 748.41,-993.67"/>
</g>
<!-- 21&#45;&gt;18 -->
<g id="edge19" class="edge">
<title>21&#45;&gt;18</title>
<path fill="none" stroke="black" d="M1392.37,-818.96C1399.55,-822.15 1406.76,-825.11 1414,-827.8 1569.69,-885.68 1631.34,-803.21 1786,-863.8 1799.25,-868.99 1812.4,-875.12 1825.33,-881.92"/>
<polygon fill="none" stroke="black" points="1820.23,-891.1 1851.51,-896.77 1830.59,-872.83 1820.23,-891.1"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<polygon fill="#f2f2f2" stroke="black" points="1426.56,-330.3 1426.56,-447.1 1967.44,-447.1 1967.44,-330.3 1426.56,-330.3"/>
<text text-anchor="middle" x="1697" y="-430.5" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="1697" y="-413.7" font-family="Times,serif" font-size="14.00">RuleEngineValidation</text>
<text text-anchor="middle" x="1697" y="-396.9" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1426.56,-388.7 1967.44,-388.7 "/>
<text text-anchor="start" x="1434.56" y="-372.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1434.56" y="-355.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;detectTransferRestrictionValidation(_from: address, _to: address, _amount: uint256): uint8</text>
<text text-anchor="start" x="1434.56" y="-338.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validateTransferValidation(_from: address, _to: address, _amount: uint256): bool</text>
</g>
<!-- 22&#45;&gt;1 -->
<g id="edge27" class="edge">
<title>22&#45;&gt;1</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1426.49,-414.53C1212.34,-435.49 946.34,-464.97 929,-483.6 871.54,-545.32 922.03,-1163.19 891,-1241.6 837.92,-1375.71 714.52,-1495.74 640.41,-1559.23"/>
<polygon fill="none" stroke="black" points="633.61,-1551.23 617.35,-1578.54 647.09,-1567.34 633.61,-1551.23"/>
</g>
<!-- 22&#45;&gt;2 -->
<g id="edge29" class="edge">
<title>22&#45;&gt;2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1426.31,-415.4C1190.93,-438.47 883.54,-470.63 858,-483.6 814.39,-505.75 776.85,-545.33 749.42,-580.85"/>
<polygon fill="black" stroke="black" points="746.63,-578.75 743.38,-588.83 752.21,-582.98 746.63,-578.75"/>
</g>
<!-- 22&#45;&gt;7 -->
<g id="edge26" class="edge">
<title>22&#45;&gt;7</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1697,-447.2C1697,-482.07 1697,-527.27 1697,-566.57"/>
<polygon fill="none" stroke="black" points="1686.5,-566.85 1697,-596.85 1707.5,-566.85 1686.5,-566.85"/>
</g>
<!-- 22&#45;&gt;13 -->
<g id="edge24" class="edge">
<title>22&#45;&gt;13</title>
<path fill="none" stroke="black" d="M1943.42,-447.1C1957.32,-457.37 1969.77,-469.43 1980,-483.6 2024.76,-545.62 2026.71,-767.23 1980,-827.8 1941.55,-877.65 1900.04,-837.16 1843,-863.8 1799.72,-884.01 1756.07,-911.41 1717.04,-939.03"/>
<polygon fill="none" stroke="black" points="1710.86,-930.55 1692.75,-956.67 1723.19,-947.54 1710.86,-930.55"/>
</g>
<!-- 22&#45;&gt;17 -->
<g id="edge28" class="edge">
<title>22&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1426.5,-413.45C1201.57,-434.44 915.14,-464.6 896,-483.6 841.28,-537.9 882.18,-756.45 853,-827.8 826.97,-891.43 777.97,-952.69 739.07,-994.99"/>
<polygon fill="black" stroke="black" points="736.43,-992.7 732.19,-1002.41 741.56,-997.46 736.43,-992.7"/>
</g>
<!-- 22&#45;&gt;18 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;18</title>
<path fill="none" stroke="black" d="M1950.02,-447.23C1978.3,-458.09 2000.67,-470.28 2011,-483.6 2052.61,-537.28 2055.84,-697.42 2049.93,-834.05"/>
<polygon fill="none" stroke="black" points="2039.44,-833.67 2048.47,-864.14 2060.41,-834.69 2039.44,-833.67"/>
</g>
<!-- 22&#45;&gt;21 -->
<g id="edge25" class="edge">
<title>22&#45;&gt;21</title>
<path fill="none" stroke="black" d="M1498.71,-447.16C1476.18,-455.54 1453.61,-464.76 1424.2,-478.96"/>
<polygon fill="none" stroke="black" points="1419.25,-469.69 1397.09,-492.47 1428.62,-488.48 1419.25,-469.69"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<polygon fill="#f2f2f2" stroke="black" points="1604.04,-0.5 1604.04,-293.3 2167.95,-293.3 2167.95,-0.5 1604.04,-0.5"/>
<text text-anchor="middle" x="1886" y="-276.7" font-family="Times,serif" font-size="14.00">RuleEngine</text>
<text text-anchor="middle" x="1886" y="-259.9" font-family="Times,serif" font-size="14.00">RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="1604.04,-251.7 2167.95,-251.7 "/>
<text text-anchor="start" x="1612.04" y="-235.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1612.04" y="-218.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;VERSION: string</text>
<polyline fill="none" stroke="black" points="1604.04,-210.1 2167.95,-210.1 "/>
<text text-anchor="start" x="1612.04" y="-193.5" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="1612.04" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): (sender: address)</text>
<text text-anchor="start" x="1612.04" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="1612.04" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_contextSuffixLength(): uint256</text>
<text text-anchor="start" x="1612.04" y="-126.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="1612.04" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;messageForTransferRestriction(_restrictionCode: uint8): string</text>
<text text-anchor="start" x="1612.04" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;operateOnTransfer(from: address, to: address, amount: uint256): (isValid: bool) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="1612.04" y="-75.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="1612.04" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(admin: address, forwarderIrrevocable: address, tokenContract: address)</text>
<text text-anchor="start" x="1612.04" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;detectTransferRestriction(_from: address, _to: address, _amount: uint256): uint8</text>
<text text-anchor="start" x="1612.04" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validateTransfer(_from: address, _to: address, _amount: uint256): bool</text>
<text text-anchor="start" x="1612.04" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;hasRole(role: bytes32, account: address): bool</text>
</g>
<!-- 23&#45;&gt;2 -->
<g id="edge34" class="edge">
<title>23&#45;&gt;2</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1603.98,-195.97C1384.45,-243.16 1079.38,-330.89 849,-483.6 810.66,-509.01 776.42,-546.98 750.56,-580.7"/>
<polygon fill="black" stroke="black" points="747.74,-578.63 744.51,-588.72 753.33,-582.85 747.74,-578.63"/>
</g>
<!-- 23&#45;&gt;11 -->
<g id="edge37" class="edge">
<title>23&#45;&gt;11</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2168.05,-189.27C2349.58,-220.92 2564.32,-269.35 2635,-329.8 2692.73,-379.19 2726.23,-457.28 2745.42,-524.53"/>
<polygon fill="black" stroke="black" points="2742.1,-525.67 2748.15,-534.37 2748.85,-523.79 2742.1,-525.67"/>
</g>
<!-- 23&#45;&gt;15 -->
<g id="edge33" class="edge">
<title>23&#45;&gt;15</title>
<path fill="none" stroke="black" d="M2168.31,-257.8C2230.7,-282.09 2294.51,-306.93 2349.4,-328.29"/>
<polygon fill="none" stroke="black" points="2345.88,-338.19 2377.65,-339.29 2353.5,-318.62 2345.88,-338.19"/>
</g>
<!-- 23&#45;&gt;16 -->
<g id="edge30" class="edge">
<title>23&#45;&gt;16</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1603.87,-178.42C1326.15,-210.09 890.43,-264.15 516,-329.8 510.05,-330.84 504.03,-331.93 497.97,-333.04"/>
<polygon fill="none" stroke="black" points="495.86,-322.76 468.36,-338.69 499.79,-343.39 495.86,-322.76"/>
</g>
<!-- 23&#45;&gt;17 -->
<g id="edge35" class="edge">
<title>23&#45;&gt;17</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1603.7,-175.2C1246.97,-216.6 665.27,-309.53 549,-483.6 464.03,-610.81 508.49,-680.28 549,-827.8 565.92,-889.44 604.72,-951.29 636.07,-994.32"/>
<polygon fill="black" stroke="black" points="633.28,-996.43 642.03,-1002.4 638.91,-992.27 633.28,-996.43"/>
</g>
<!-- 23&#45;&gt;18 -->
<g id="edge36" class="edge">
<title>23&#45;&gt;18</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1972.96,-293.46C2002.23,-350.64 2030.99,-418.18 2045,-483.6 2070.93,-604.74 2068.53,-743.74 2059.36,-853.92"/>
<polygon fill="black" stroke="black" points="2055.85,-853.89 2058.48,-864.15 2062.82,-854.49 2055.85,-853.89"/>
</g>
<!-- 23&#45;&gt;20 -->
<g id="edge31" class="edge">
<title>23&#45;&gt;20</title>
<path fill="none" stroke="black" d="M2052.77,-293.54C2065.25,-305.58 2077.46,-317.76 2089,-329.8 2128.16,-370.67 2168.08,-416.58 2204.72,-460.74"/>
<polygon fill="none" stroke="black" points="2196.68,-467.49 2223.85,-483.98 2212.9,-454.14 2196.68,-467.49"/>
</g>
<!-- 23&#45;&gt;22 -->
<g id="edge32" class="edge">
<title>23&#45;&gt;22</title>
<path fill="none" stroke="black" d="M1771.15,-293.61C1767.67,-298.03 1764.23,-302.4 1760.85,-306.69"/>
<polygon fill="none" stroke="black" points="1752.58,-300.22 1742.25,-330.28 1769.07,-313.22 1752.58,-300.22"/>
</g>
</g>
</svg>
