<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 5.0.0 (20220707.1540)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1022pt" height="691pt"
 viewBox="0.00 0.00 1022.35 690.80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 686.8)">
<title>UmlClassDiagram</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-686.8 1018.35,-686.8 1018.35,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="black" points="0,-8.9 0,-486.5 481.78,-486.5 481.78,-8.9 0,-8.9"/>
<text text-anchor="middle" x="240.89" y="-469.9" font-family="Times,serif" font-size="14.00">RuleEngine</text>
<text text-anchor="middle" x="240.89" y="-453.1" font-family="Times,serif" font-size="14.00">src/RuleEngine.sol</text>
<polyline fill="none" stroke="black" points="0,-444.9 481.78,-444.9 "/>
<text text-anchor="start" x="8" y="-428.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-411.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;_rules: IRule[]</text>
<text text-anchor="start" x="8" y="-394.7" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-377.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;RULE_ENGINE_ROLE: bytes32</text>
<text text-anchor="start" x="8" y="-361.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;ruleIsPresent: mapping(IRule=&gt;bool)</text>
<polyline fill="none" stroke="black" points="0,-352.9 481.78,-352.9 "/>
<text text-anchor="start" x="8" y="-336.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="8" y="-319.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): (sender: address)</text>
<text text-anchor="start" x="8" y="-302.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="8" y="-285.9" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="8" y="-269.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;setRules(rules_: IRule[]) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="8" y="-252.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rulesCount(): uint256</text>
<text text-anchor="start" x="8" y="-235.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;getRuleIndex(rule_: IRule): (index: uint256)</text>
<text text-anchor="start" x="8" y="-218.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rule(ruleId: uint256): IRule</text>
<text text-anchor="start" x="8" y="-201.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;rules(): IRule[]</text>
<text text-anchor="start" x="8" y="-185.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;messageForTransferRestriction(_restrictionCode: uint8): string</text>
<text text-anchor="start" x="8" y="-168.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="8" y="-151.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; AddRule(rule: IRule)</text>
<text text-anchor="start" x="8" y="-134.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; RemoveRule(rule: IRule)</text>
<text text-anchor="start" x="8" y="-117.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; ClearRules(rulesRemoved: IRule[])</text>
<text text-anchor="start" x="8" y="-101.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(admin: address, forwarderIrrevocable: address)</text>
<text text-anchor="start" x="8" y="-84.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;clearRules() &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="8" y="-67.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addRule(rule_: IRule) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="8" y="-50.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeRule(rule_: IRule, index: uint256) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="8" y="-33.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;detectTransferRestriction(_from: address, _to: address, _amount: uint256): uint8</text>
<text text-anchor="start" x="8" y="-17.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validateTransfer(_from: address, _to: address, _amount: uint256): bool</text>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<polygon fill="#f2f2f2" stroke="black" points="370.16,-531.9 370.16,-682.3 627.62,-682.3 627.62,-531.9 370.16,-531.9"/>
<text text-anchor="middle" x="498.89" y="-665.7" font-family="Times,serif" font-size="14.00">&lt;&lt;Abstract&gt;&gt;</text>
<text text-anchor="middle" x="498.89" y="-648.9" font-family="Times,serif" font-size="14.00">MetaTxModuleStandalone</text>
<text text-anchor="middle" x="498.89" y="-632.1" font-family="Times,serif" font-size="14.00">src/modules/MetaTxModuleStandalone.sol</text>
<polyline fill="none" stroke="black" points="370.16,-623.9 627.62,-623.9 "/>
<text text-anchor="start" x="378.16" y="-607.3" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="378.16" y="-590.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): (sender: address)</text>
<text text-anchor="start" x="378.16" y="-573.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="378.16" y="-556.9" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="378.16" y="-540.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(trustedForwarder: address)</text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="black" d="M412.62,-486.59C417.65,-493.56 422.59,-500.4 427.39,-507.05"/>
<polygon fill="none" stroke="black" points="419.09,-513.5 445.17,-531.68 436.12,-501.21 419.09,-513.5"/>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<polygon fill="#f2f2f2" stroke="black" points="499.43,-0.5 499.43,-494.9 1014.35,-494.9 1014.35,-0.5 499.43,-0.5"/>
<text text-anchor="middle" x="756.89" y="-478.3" font-family="Times,serif" font-size="14.00">RuleWhitelist</text>
<text text-anchor="middle" x="756.89" y="-461.5" font-family="Times,serif" font-size="14.00">src/RuleWhitelist.sol</text>
<polyline fill="none" stroke="black" points="499.43,-453.3 1014.35,-453.3 "/>
<text text-anchor="start" x="507.43" y="-436.7" font-family="Times,serif" font-size="14.00">Private:</text>
<text text-anchor="start" x="507.43" y="-419.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;numAddressesWhitelisted: uint256</text>
<text text-anchor="start" x="507.43" y="-403.1" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="507.43" y="-386.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;WHITELIST_ROLE: bytes32</text>
<text text-anchor="start" x="507.43" y="-369.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;TEXT_CODE_NOT_FOUND: string</text>
<text text-anchor="start" x="507.43" y="-352.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;TEXT_ADDRESS_FROM_NOT_WHITELISTED: string</text>
<text text-anchor="start" x="507.43" y="-335.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;TEXT_ADDRESS_TO_NOT_WHITELISTED: string</text>
<text text-anchor="start" x="507.43" y="-319.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;CODE_ADDRESS_FROM_NOT_WHITELISTED: uint8</text>
<text text-anchor="start" x="507.43" y="-302.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;CODE_ADDRESS_TO_NOT_WHITELISTED: uint8</text>
<text text-anchor="start" x="507.43" y="-285.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;whitelist: mapping(address=&gt;bool)</text>
<polyline fill="none" stroke="black" points="499.43,-277.3 1014.35,-277.3 "/>
<text text-anchor="start" x="507.43" y="-260.7" font-family="Times,serif" font-size="14.00">Internal:</text>
<text text-anchor="start" x="507.43" y="-243.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgSender(): (sender: address)</text>
<text text-anchor="start" x="507.43" y="-227.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;_msgData(): bytes</text>
<text text-anchor="start" x="507.43" y="-210.3" font-family="Times,serif" font-size="14.00">External:</text>
<text text-anchor="start" x="507.43" y="-193.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;numberWhitelistedAddress(): uint256</text>
<text text-anchor="start" x="507.43" y="-176.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addressIsWhitelisted(_targetAddress: address): bool</text>
<text text-anchor="start" x="507.43" y="-159.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;canReturnTransferRestrictionCode(_restrictionCode: uint8): bool</text>
<text text-anchor="start" x="507.43" y="-143.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;messageForTransferRestriction(_restrictionCode: uint8): string</text>
<text text-anchor="start" x="507.43" y="-126.3" font-family="Times,serif" font-size="14.00">Public:</text>
<text text-anchor="start" x="507.43" y="-109.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;constructor(admin: address, forwarderIrrevocable: address)</text>
<text text-anchor="start" x="507.43" y="-92.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addAddressesToTheWhitelist(listWhitelistedAddress: address[]) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="507.43" y="-75.9" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeAddressesFromTheWhitelist(listWhitelistedAddress: address[]) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="507.43" y="-59.1" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;addAddressToTheWhitelist(_newWhitelistAddress: address) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="507.43" y="-42.3" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;removeAddressFromTheWhitelist(_removeWhitelistAddress: address) &lt;&lt;onlyRole&gt;&gt;</text>
<text text-anchor="start" x="507.43" y="-25.5" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;validateTransfer(_from: address, _to: address, _amount: uint256): (isValid: bool)</text>
<text text-anchor="start" x="507.43" y="-8.7" font-family="Times,serif" font-size="14.00"> &#160;&#160;&#160;detectTransferRestriction(_from: address, _to: address, uint256): uint8</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="black" d="M579.11,-494.98C576.12,-499.12 573.17,-503.21 570.27,-507.23"/>
<polygon fill="none" stroke="black" points="561.58,-501.32 552.53,-531.79 578.6,-513.61 561.58,-501.32"/>
</g>
</g>
</svg>
